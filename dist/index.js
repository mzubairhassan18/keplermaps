"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.loadRemoteResourceSuccess = exports.loadRemoteResourceError = exports["default"] = exports.appReducer = void 0;
var _redux = require("redux");
var _reduxActions = require("redux-actions");
var _reducers = _interopRequireWildcard(require("@kepler.gl/reducers"));
var _processors = require("@kepler.gl/processors");
var _schemas = _interopRequireDefault(require("@kepler.gl/schemas"));
var _constants = require("@kepler.gl/constants");
var _actions = require("../actions");
var _defaultSettings = require("../constants/default-settings");
var _strings = require("../utils/strings");
var _handleActions, _composedUpdaters;
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { "default": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj["default"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); } // Copyright (c) 2023 Uber Technologies, Inc.
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.
// INITIAL_APP_STATE
var initialAppState = {
  appName: 'example',
  loaded: false,
  sampleMaps: [],
  // this is used to store sample maps fetch from a remote json file
  isMapLoading: false,
  // determine whether we are loading a sample map,
  error: null // contains error when loading/retrieving data/configuration
  // {
  //   status: null,
  //   message: null
  // }
};

// App reducer
var appReducer = (0, _reduxActions.handleActions)((_handleActions = {}, _defineProperty(_handleActions, _actions.INIT, function (state) {
  return _objectSpread(_objectSpread({}, state), {}, {
    loaded: true
  });
}), _defineProperty(_handleActions, _actions.LOAD_MAP_SAMPLE_FILE, function (state, action) {
  return _objectSpread(_objectSpread({}, state), {}, {
    sampleMaps: action.samples
  });
}), _defineProperty(_handleActions, _actions.SET_SAMPLE_LOADING_STATUS, function (state, action) {
  return _objectSpread(_objectSpread({}, state), {}, {
    isMapLoading: action.isMapLoading
  });
}), _handleActions), initialAppState);
exports.appReducer = appReducer;
var DEFAULT_EXPORT_MAP = _reducers.uiStateUpdaters.DEFAULT_EXPORT_MAP;

// combine app reducer and keplerGl reducer
// to mimic the reducer state of kepler.gl website
var demoReducer = (0, _redux.combineReducers)({
  // mount keplerGl reducer
  keplerGl: _reducers["default"].initialState({
    // In order to provide single file export functionality
    // we are going to set the mapbox access token to be used
    // in the exported file
    uiState: {
      exportMap: _objectSpread(_objectSpread({}, DEFAULT_EXPORT_MAP), {}, _defineProperty({}, _constants.EXPORT_MAP_FORMATS.HTML, _objectSpread(_objectSpread({}, DEFAULT_EXPORT_MAP[[_constants.EXPORT_MAP_FORMATS.HTML]]), {}, {
        exportMapboxAccessToken: _defaultSettings.AUTH_TOKENS.EXPORT_MAPBOX_TOKEN
      })))
    },
    visState: {
      loaders: [],
      // Add additional loaders.gl loaders here
      loadOptions: {} // Add additional loaders.gl loader options here
    }
  }),

  app: appReducer
});

// this can be moved into a action and call kepler.gl action
/**
 *
 * @param state
 * @param action {map: resultset, config, map}
 * @returns {{app: {isMapLoading: boolean}, keplerGl: {map: (state|*)}}}
 */
var loadRemoteResourceSuccess = function loadRemoteResourceSuccess(state, action) {
  // TODO: replace generate with a different function
  var datasetId = action.options.id || (0, _strings.generateHashId)(6);
  var dataUrl = action.options.dataUrl;
  var processorMethod = _processors.processCsvData;
  // TODO: create helper to determine file ext eligibility
  if (dataUrl.includes('.json') || dataUrl.includes('.geojson')) {
    processorMethod = _processors.processGeojson;
  }
  var datasets = {
    info: {
      id: datasetId
    },
    data: processorMethod(action.response)
  };
  var config = action.config ? _schemas["default"].parseSavedConfig(action.config) : null;
  var keplerGlInstance = _reducers.combinedUpdaters.addDataToMapUpdater(state.keplerGl.map,
  // "map" is the id of your kepler.gl instance
  {
    payload: {
      datasets: datasets,
      config: config,
      options: {
        centerMap: Boolean(!action.config)
      }
    }
  });
  return _objectSpread(_objectSpread({}, state), {}, {
    app: _objectSpread(_objectSpread({}, state.app), {}, {
      currentSample: action.options,
      isMapLoading: false // we turn off the spinner
    }),

    keplerGl: _objectSpread(_objectSpread({}, state.keplerGl), {}, {
      // in case you keep multiple instances
      map: keplerGlInstance
    })
  });
};
exports.loadRemoteResourceSuccess = loadRemoteResourceSuccess;
var loadRemoteResourceError = function loadRemoteResourceError(state, action) {
  var error = action.error,
    url = action.url;
  var errorNote = {
    type: 'error',
    message: error.message || "Error loading ".concat(url)
  };
  return _objectSpread(_objectSpread({}, state), {}, {
    app: _objectSpread(_objectSpread({}, state.app), {}, {
      isMapLoading: false // we turn of the spinner
    }),

    keplerGl: _objectSpread(_objectSpread({}, state.keplerGl), {}, {
      // in case you keep multiple instances
      map: _objectSpread(_objectSpread({}, state.keplerGl.map), {}, {
        uiState: _reducers.uiStateUpdaters.addNotificationUpdater(state.keplerGl.map.uiState, {
          payload: errorNote
        })
      })
    })
  });
};
exports.loadRemoteResourceError = loadRemoteResourceError;
var composedUpdaters = (_composedUpdaters = {}, _defineProperty(_composedUpdaters, _actions.LOAD_REMOTE_RESOURCE_SUCCESS, loadRemoteResourceSuccess), _defineProperty(_composedUpdaters, _actions.LOAD_REMOTE_RESOURCE_ERROR, loadRemoteResourceError), _composedUpdaters);
var composedReducer = function composedReducer(state, action) {
  if (composedUpdaters[action.type]) {
    return composedUpdaters[action.type](state, action);
  }
  return demoReducer(state, action);
};

// export demoReducer to be combined in website app
var _default = composedReducer;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVkdXgiLCJyZXF1aXJlIiwiX3JlZHV4QWN0aW9ucyIsIl9yZWR1Y2VycyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX3Byb2Nlc3NvcnMiLCJfc2NoZW1hcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfY29uc3RhbnRzIiwiX2FjdGlvbnMiLCJfZGVmYXVsdFNldHRpbmdzIiwiX3N0cmluZ3MiLCJfaGFuZGxlQWN0aW9ucyIsIl9jb21wb3NlZFVwZGF0ZXJzIiwib2JqIiwiX19lc01vZHVsZSIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsIm5vZGVJbnRlcm9wIiwiV2Vha01hcCIsImNhY2hlQmFiZWxJbnRlcm9wIiwiY2FjaGVOb2RlSW50ZXJvcCIsIl90eXBlb2YiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsInNldCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJvd25LZXlzIiwib2JqZWN0IiwiZW51bWVyYWJsZU9ubHkiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsImZpbHRlciIsInN5bSIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsInZhbHVlIiwiX3RvUHJvcGVydHlLZXkiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImFyZyIsIl90b1ByaW1pdGl2ZSIsIlN0cmluZyIsImlucHV0IiwiaGludCIsInByaW0iLCJ0b1ByaW1pdGl2ZSIsInVuZGVmaW5lZCIsInJlcyIsIlR5cGVFcnJvciIsIk51bWJlciIsImluaXRpYWxBcHBTdGF0ZSIsImFwcE5hbWUiLCJsb2FkZWQiLCJzYW1wbGVNYXBzIiwiaXNNYXBMb2FkaW5nIiwiZXJyb3IiLCJhcHBSZWR1Y2VyIiwiaGFuZGxlQWN0aW9ucyIsIklOSVQiLCJzdGF0ZSIsIkxPQURfTUFQX1NBTVBMRV9GSUxFIiwiYWN0aW9uIiwic2FtcGxlcyIsIlNFVF9TQU1QTEVfTE9BRElOR19TVEFUVVMiLCJleHBvcnRzIiwiREVGQVVMVF9FWFBPUlRfTUFQIiwidWlTdGF0ZVVwZGF0ZXJzIiwiZGVtb1JlZHVjZXIiLCJjb21iaW5lUmVkdWNlcnMiLCJrZXBsZXJHbCIsImtlcGxlckdsUmVkdWNlciIsImluaXRpYWxTdGF0ZSIsInVpU3RhdGUiLCJleHBvcnRNYXAiLCJFWFBPUlRfTUFQX0ZPUk1BVFMiLCJIVE1MIiwiZXhwb3J0TWFwYm94QWNjZXNzVG9rZW4iLCJBVVRIX1RPS0VOUyIsIkVYUE9SVF9NQVBCT1hfVE9LRU4iLCJ2aXNTdGF0ZSIsImxvYWRlcnMiLCJsb2FkT3B0aW9ucyIsImFwcCIsImxvYWRSZW1vdGVSZXNvdXJjZVN1Y2Nlc3MiLCJkYXRhc2V0SWQiLCJvcHRpb25zIiwiaWQiLCJnZW5lcmF0ZUhhc2hJZCIsImRhdGFVcmwiLCJwcm9jZXNzb3JNZXRob2QiLCJwcm9jZXNzQ3N2RGF0YSIsImluY2x1ZGVzIiwicHJvY2Vzc0dlb2pzb24iLCJkYXRhc2V0cyIsImluZm8iLCJkYXRhIiwicmVzcG9uc2UiLCJjb25maWciLCJLZXBsZXJHbFNjaGVtYSIsInBhcnNlU2F2ZWRDb25maWciLCJrZXBsZXJHbEluc3RhbmNlIiwiY29tYmluZWRVcGRhdGVycyIsImFkZERhdGFUb01hcFVwZGF0ZXIiLCJtYXAiLCJwYXlsb2FkIiwiY2VudGVyTWFwIiwiQm9vbGVhbiIsImN1cnJlbnRTYW1wbGUiLCJsb2FkUmVtb3RlUmVzb3VyY2VFcnJvciIsInVybCIsImVycm9yTm90ZSIsInR5cGUiLCJtZXNzYWdlIiwiY29uY2F0IiwiYWRkTm90aWZpY2F0aW9uVXBkYXRlciIsImNvbXBvc2VkVXBkYXRlcnMiLCJMT0FEX1JFTU9URV9SRVNPVVJDRV9TVUNDRVNTIiwiTE9BRF9SRU1PVEVfUkVTT1VSQ0VfRVJST1IiLCJjb21wb3NlZFJlZHVjZXIiLCJfZGVmYXVsdCJdLCJzb3VyY2VzIjpbIi4uL3NyYy9yZWR1Y2Vycy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMjMgVWJlciBUZWNobm9sb2dpZXMsIEluYy5cclxuLy9cclxuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG4vLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbi8vIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxuLy8gdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG4vLyBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuLy9cclxuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuLy8gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcbi8vXHJcbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuLy8gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbi8vIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG4vLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbi8vIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbi8vIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuLy8gVEhFIFNPRlRXQVJFLlxyXG5cclxuaW1wb3J0IHtjb21iaW5lUmVkdWNlcnN9IGZyb20gJ3JlZHV4JztcclxuaW1wb3J0IHtoYW5kbGVBY3Rpb25zfSBmcm9tICdyZWR1eC1hY3Rpb25zJztcclxuXHJcbmltcG9ydCBrZXBsZXJHbFJlZHVjZXIsIHtjb21iaW5lZFVwZGF0ZXJzLCB1aVN0YXRlVXBkYXRlcnN9IGZyb20gJ0BrZXBsZXIuZ2wvcmVkdWNlcnMnO1xyXG5pbXBvcnQge3Byb2Nlc3NHZW9qc29uLCBwcm9jZXNzQ3N2RGF0YX0gZnJvbSAnQGtlcGxlci5nbC9wcm9jZXNzb3JzJztcclxuaW1wb3J0IEtlcGxlckdsU2NoZW1hIGZyb20gJ0BrZXBsZXIuZ2wvc2NoZW1hcyc7XHJcbmltcG9ydCB7RVhQT1JUX01BUF9GT1JNQVRTfSBmcm9tICdAa2VwbGVyLmdsL2NvbnN0YW50cyc7XHJcblxyXG5pbXBvcnQge1xyXG4gIElOSVQsXHJcbiAgTE9BRF9NQVBfU0FNUExFX0ZJTEUsXHJcbiAgTE9BRF9SRU1PVEVfUkVTT1VSQ0VfU1VDQ0VTUyxcclxuICBMT0FEX1JFTU9URV9SRVNPVVJDRV9FUlJPUixcclxuICBTRVRfU0FNUExFX0xPQURJTkdfU1RBVFVTXHJcbn0gZnJvbSAnLi4vYWN0aW9ucyc7XHJcblxyXG5pbXBvcnQge0FVVEhfVE9LRU5TfSBmcm9tICcuLi9jb25zdGFudHMvZGVmYXVsdC1zZXR0aW5ncyc7XHJcbmltcG9ydCB7Z2VuZXJhdGVIYXNoSWR9IGZyb20gJy4uL3V0aWxzL3N0cmluZ3MnO1xyXG5cclxuLy8gSU5JVElBTF9BUFBfU1RBVEVcclxuY29uc3QgaW5pdGlhbEFwcFN0YXRlID0ge1xyXG4gIGFwcE5hbWU6ICdleGFtcGxlJyxcclxuICBsb2FkZWQ6IGZhbHNlLFxyXG4gIHNhbXBsZU1hcHM6IFtdLCAvLyB0aGlzIGlzIHVzZWQgdG8gc3RvcmUgc2FtcGxlIG1hcHMgZmV0Y2ggZnJvbSBhIHJlbW90ZSBqc29uIGZpbGVcclxuICBpc01hcExvYWRpbmc6IGZhbHNlLCAvLyBkZXRlcm1pbmUgd2hldGhlciB3ZSBhcmUgbG9hZGluZyBhIHNhbXBsZSBtYXAsXHJcbiAgZXJyb3I6IG51bGwgLy8gY29udGFpbnMgZXJyb3Igd2hlbiBsb2FkaW5nL3JldHJpZXZpbmcgZGF0YS9jb25maWd1cmF0aW9uXHJcbiAgLy8ge1xyXG4gIC8vICAgc3RhdHVzOiBudWxsLFxyXG4gIC8vICAgbWVzc2FnZTogbnVsbFxyXG4gIC8vIH1cclxufTtcclxuXHJcbi8vIEFwcCByZWR1Y2VyXHJcbmV4cG9ydCBjb25zdCBhcHBSZWR1Y2VyID0gaGFuZGxlQWN0aW9ucyhcclxuICB7XHJcbiAgICBbSU5JVF06IHN0YXRlID0+ICh7XHJcbiAgICAgIC4uLnN0YXRlLFxyXG4gICAgICBsb2FkZWQ6IHRydWVcclxuICAgIH0pLFxyXG4gICAgW0xPQURfTUFQX1NBTVBMRV9GSUxFXTogKHN0YXRlLCBhY3Rpb24pID0+ICh7XHJcbiAgICAgIC4uLnN0YXRlLFxyXG4gICAgICBzYW1wbGVNYXBzOiBhY3Rpb24uc2FtcGxlc1xyXG4gICAgfSksXHJcbiAgICBbU0VUX1NBTVBMRV9MT0FESU5HX1NUQVRVU106IChzdGF0ZSwgYWN0aW9uKSA9PiAoe1xyXG4gICAgICAuLi5zdGF0ZSxcclxuICAgICAgaXNNYXBMb2FkaW5nOiBhY3Rpb24uaXNNYXBMb2FkaW5nXHJcbiAgICB9KVxyXG4gIH0sXHJcbiAgaW5pdGlhbEFwcFN0YXRlXHJcbik7XHJcblxyXG5jb25zdCB7REVGQVVMVF9FWFBPUlRfTUFQfSA9IHVpU3RhdGVVcGRhdGVycztcclxuXHJcbi8vIGNvbWJpbmUgYXBwIHJlZHVjZXIgYW5kIGtlcGxlckdsIHJlZHVjZXJcclxuLy8gdG8gbWltaWMgdGhlIHJlZHVjZXIgc3RhdGUgb2Yga2VwbGVyLmdsIHdlYnNpdGVcclxuY29uc3QgZGVtb1JlZHVjZXIgPSBjb21iaW5lUmVkdWNlcnMoe1xyXG4gIC8vIG1vdW50IGtlcGxlckdsIHJlZHVjZXJcclxuICBrZXBsZXJHbDoga2VwbGVyR2xSZWR1Y2VyLmluaXRpYWxTdGF0ZSh7XHJcbiAgICAvLyBJbiBvcmRlciB0byBwcm92aWRlIHNpbmdsZSBmaWxlIGV4cG9ydCBmdW5jdGlvbmFsaXR5XHJcbiAgICAvLyB3ZSBhcmUgZ29pbmcgdG8gc2V0IHRoZSBtYXBib3ggYWNjZXNzIHRva2VuIHRvIGJlIHVzZWRcclxuICAgIC8vIGluIHRoZSBleHBvcnRlZCBmaWxlXHJcbiAgICB1aVN0YXRlOiB7XHJcbiAgICAgIGV4cG9ydE1hcDoge1xyXG4gICAgICAgIC4uLkRFRkFVTFRfRVhQT1JUX01BUCxcclxuICAgICAgICBbRVhQT1JUX01BUF9GT1JNQVRTLkhUTUxdOiB7XHJcbiAgICAgICAgICAuLi5ERUZBVUxUX0VYUE9SVF9NQVBbW0VYUE9SVF9NQVBfRk9STUFUUy5IVE1MXV0sXHJcbiAgICAgICAgICBleHBvcnRNYXBib3hBY2Nlc3NUb2tlbjogQVVUSF9UT0tFTlMuRVhQT1JUX01BUEJPWF9UT0tFTlxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHZpc1N0YXRlOiB7XHJcbiAgICAgIGxvYWRlcnM6IFtdLCAvLyBBZGQgYWRkaXRpb25hbCBsb2FkZXJzLmdsIGxvYWRlcnMgaGVyZVxyXG4gICAgICBsb2FkT3B0aW9uczoge30gLy8gQWRkIGFkZGl0aW9uYWwgbG9hZGVycy5nbCBsb2FkZXIgb3B0aW9ucyBoZXJlXHJcbiAgICB9XHJcbiAgfSksXHJcbiAgYXBwOiBhcHBSZWR1Y2VyXHJcbn0pO1xyXG5cclxuLy8gdGhpcyBjYW4gYmUgbW92ZWQgaW50byBhIGFjdGlvbiBhbmQgY2FsbCBrZXBsZXIuZ2wgYWN0aW9uXHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gc3RhdGVcclxuICogQHBhcmFtIGFjdGlvbiB7bWFwOiByZXN1bHRzZXQsIGNvbmZpZywgbWFwfVxyXG4gKiBAcmV0dXJucyB7e2FwcDoge2lzTWFwTG9hZGluZzogYm9vbGVhbn0sIGtlcGxlckdsOiB7bWFwOiAoc3RhdGV8Kil9fX1cclxuICovXHJcbmV4cG9ydCBjb25zdCBsb2FkUmVtb3RlUmVzb3VyY2VTdWNjZXNzID0gKHN0YXRlLCBhY3Rpb24pID0+IHtcclxuICAvLyBUT0RPOiByZXBsYWNlIGdlbmVyYXRlIHdpdGggYSBkaWZmZXJlbnQgZnVuY3Rpb25cclxuICBjb25zdCBkYXRhc2V0SWQgPSBhY3Rpb24ub3B0aW9ucy5pZCB8fCBnZW5lcmF0ZUhhc2hJZCg2KTtcclxuICBjb25zdCB7ZGF0YVVybH0gPSBhY3Rpb24ub3B0aW9ucztcclxuICBsZXQgcHJvY2Vzc29yTWV0aG9kID0gcHJvY2Vzc0NzdkRhdGE7XHJcbiAgLy8gVE9ETzogY3JlYXRlIGhlbHBlciB0byBkZXRlcm1pbmUgZmlsZSBleHQgZWxpZ2liaWxpdHlcclxuICBpZiAoZGF0YVVybC5pbmNsdWRlcygnLmpzb24nKSB8fCBkYXRhVXJsLmluY2x1ZGVzKCcuZ2VvanNvbicpKSB7XHJcbiAgICBwcm9jZXNzb3JNZXRob2QgPSBwcm9jZXNzR2VvanNvbjtcclxuICB9XHJcblxyXG4gIGNvbnN0IGRhdGFzZXRzID0ge1xyXG4gICAgaW5mbzoge1xyXG4gICAgICBpZDogZGF0YXNldElkXHJcbiAgICB9LFxyXG4gICAgZGF0YTogcHJvY2Vzc29yTWV0aG9kKGFjdGlvbi5yZXNwb25zZSlcclxuICB9O1xyXG5cclxuICBjb25zdCBjb25maWcgPSBhY3Rpb24uY29uZmlnID8gS2VwbGVyR2xTY2hlbWEucGFyc2VTYXZlZENvbmZpZyhhY3Rpb24uY29uZmlnKSA6IG51bGw7XHJcblxyXG4gIGNvbnN0IGtlcGxlckdsSW5zdGFuY2UgPSBjb21iaW5lZFVwZGF0ZXJzLmFkZERhdGFUb01hcFVwZGF0ZXIoXHJcbiAgICBzdGF0ZS5rZXBsZXJHbC5tYXAsIC8vIFwibWFwXCIgaXMgdGhlIGlkIG9mIHlvdXIga2VwbGVyLmdsIGluc3RhbmNlXHJcbiAgICB7XHJcbiAgICAgIHBheWxvYWQ6IHtcclxuICAgICAgICBkYXRhc2V0cyxcclxuICAgICAgICBjb25maWcsXHJcbiAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgY2VudGVyTWFwOiBCb29sZWFuKCFhY3Rpb24uY29uZmlnKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICAuLi5zdGF0ZSxcclxuICAgIGFwcDoge1xyXG4gICAgICAuLi5zdGF0ZS5hcHAsXHJcbiAgICAgIGN1cnJlbnRTYW1wbGU6IGFjdGlvbi5vcHRpb25zLFxyXG4gICAgICBpc01hcExvYWRpbmc6IGZhbHNlIC8vIHdlIHR1cm4gb2ZmIHRoZSBzcGlubmVyXHJcbiAgICB9LFxyXG4gICAga2VwbGVyR2w6IHtcclxuICAgICAgLi4uc3RhdGUua2VwbGVyR2wsIC8vIGluIGNhc2UgeW91IGtlZXAgbXVsdGlwbGUgaW5zdGFuY2VzXHJcbiAgICAgIG1hcDoga2VwbGVyR2xJbnN0YW5jZVxyXG4gICAgfVxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgbG9hZFJlbW90ZVJlc291cmNlRXJyb3IgPSAoc3RhdGUsIGFjdGlvbikgPT4ge1xyXG4gIGNvbnN0IHtlcnJvciwgdXJsfSA9IGFjdGlvbjtcclxuXHJcbiAgY29uc3QgZXJyb3JOb3RlID0ge1xyXG4gICAgdHlwZTogJ2Vycm9yJyxcclxuICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfHwgYEVycm9yIGxvYWRpbmcgJHt1cmx9YFxyXG4gIH07XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICAuLi5zdGF0ZSxcclxuICAgIGFwcDoge1xyXG4gICAgICAuLi5zdGF0ZS5hcHAsXHJcbiAgICAgIGlzTWFwTG9hZGluZzogZmFsc2UgLy8gd2UgdHVybiBvZiB0aGUgc3Bpbm5lclxyXG4gICAgfSxcclxuICAgIGtlcGxlckdsOiB7XHJcbiAgICAgIC4uLnN0YXRlLmtlcGxlckdsLCAvLyBpbiBjYXNlIHlvdSBrZWVwIG11bHRpcGxlIGluc3RhbmNlc1xyXG4gICAgICBtYXA6IHtcclxuICAgICAgICAuLi5zdGF0ZS5rZXBsZXJHbC5tYXAsXHJcbiAgICAgICAgdWlTdGF0ZTogdWlTdGF0ZVVwZGF0ZXJzLmFkZE5vdGlmaWNhdGlvblVwZGF0ZXIoc3RhdGUua2VwbGVyR2wubWFwLnVpU3RhdGUsIHtcclxuICAgICAgICAgIHBheWxvYWQ6IGVycm9yTm90ZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG59O1xyXG5cclxuY29uc3QgY29tcG9zZWRVcGRhdGVycyA9IHtcclxuICBbTE9BRF9SRU1PVEVfUkVTT1VSQ0VfU1VDQ0VTU106IGxvYWRSZW1vdGVSZXNvdXJjZVN1Y2Nlc3MsXHJcbiAgW0xPQURfUkVNT1RFX1JFU09VUkNFX0VSUk9SXTogbG9hZFJlbW90ZVJlc291cmNlRXJyb3JcclxufTtcclxuXHJcbmNvbnN0IGNvbXBvc2VkUmVkdWNlciA9IChzdGF0ZSwgYWN0aW9uKSA9PiB7XHJcbiAgaWYgKGNvbXBvc2VkVXBkYXRlcnNbYWN0aW9uLnR5cGVdKSB7XHJcbiAgICByZXR1cm4gY29tcG9zZWRVcGRhdGVyc1thY3Rpb24udHlwZV0oc3RhdGUsIGFjdGlvbik7XHJcbiAgfVxyXG4gIHJldHVybiBkZW1vUmVkdWNlcihzdGF0ZSwgYWN0aW9uKTtcclxufTtcclxuXHJcbi8vIGV4cG9ydCBkZW1vUmVkdWNlciB0byBiZSBjb21iaW5lZCBpbiB3ZWJzaXRlIGFwcFxyXG5leHBvcnQgZGVmYXVsdCBjb21wb3NlZFJlZHVjZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBb0JBLElBQUFBLE1BQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLGFBQUEsR0FBQUQsT0FBQTtBQUVBLElBQUFFLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUgsT0FBQTtBQUNBLElBQUFJLFdBQUEsR0FBQUosT0FBQTtBQUNBLElBQUFLLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQU4sT0FBQTtBQUNBLElBQUFPLFVBQUEsR0FBQVAsT0FBQTtBQUVBLElBQUFRLFFBQUEsR0FBQVIsT0FBQTtBQVFBLElBQUFTLGdCQUFBLEdBQUFULE9BQUE7QUFDQSxJQUFBVSxRQUFBLEdBQUFWLE9BQUE7QUFBZ0QsSUFBQVcsY0FBQSxFQUFBQyxpQkFBQTtBQUFBLFNBQUFOLHVCQUFBTyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsZ0JBQUFBLEdBQUE7QUFBQSxTQUFBRSx5QkFBQUMsV0FBQSxlQUFBQyxPQUFBLGtDQUFBQyxpQkFBQSxPQUFBRCxPQUFBLFFBQUFFLGdCQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEseUJBQUFDLFdBQUEsV0FBQUEsV0FBQSxHQUFBRyxnQkFBQSxHQUFBRCxpQkFBQSxLQUFBRixXQUFBO0FBQUEsU0FBQWIsd0JBQUFVLEdBQUEsRUFBQUcsV0FBQSxTQUFBQSxXQUFBLElBQUFILEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLFdBQUFELEdBQUEsUUFBQUEsR0FBQSxhQUFBTyxPQUFBLENBQUFQLEdBQUEs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